(this["webpackJsonpgiphy-app"]=this["webpackJsonpgiphy-app"]||[]).push([[0],{214:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(76),o=n.n(c),i=n(11),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=n(3),f=n.n(s),p=n(5),b=n(4),m=n(29),d=n(77),h=n.n(d),g=Object(a.createContext)({}),v=function(){return Object(a.useContext)(g)},j=function(e){var t=e.children,n=Object(m.a)(e,["children"]),c=Object(a.useState)(null),o=Object(b.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(!0),s=Object(b.a)(l,2),d=s[0],v=s[1],j=Object(a.useState)(!1),O=Object(b.a)(j,2),w=O[0],E=O[1],x=Object(a.useState)(null),y=Object(b.a)(x,2),k=y[0],S=y[1];Object(a.useEffect)(function(){Object(p.a)(f.a.mark(function e(){var t,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()(n);case 2:return t=e.sent,u(t),e.next=6,t.isAuthenticated();case 6:if(a=e.sent,E(a),!a){e.next=13;break}return e.next=11,t.getUser();case 11:r=e.sent,S(r);case 13:v(!1);case 14:case"end":return e.stop()}},e)}))()},[]);var P=function(){var e=Object(p.a)(f.a.mark(function e(t,n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,i.loginWithPopup(t,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:return e.next=13,i.getUser();case 13:a=e.sent,S(a),E(!0),v(!1);case 17:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(g.Provider,{value:{isAuthenticated:w,user:k,loading:d,loginWithPopup:P,logout:function(){return i&&i.logout.apply(i,arguments)}}},t)},O=n(1),w=n(6),E=n(2);function x(){var e=Object(O.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Roboto:300,600,900');\n\n  html, body {\n    font-family: Roboto, sans-serif;\n    margin: 0;\n    padding: 0;\n    background-color: black;\n    color: white;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"]);return x=function(){return e},e}var y=Object(E.a)(x()),k=function(e){var t=e.component,n=e.path,c=Object(m.a)(e,["component","path"]),o=v(),i=o.loading,u=o.isAuthenticated,l=o.loginWithPopup;Object(a.useEffect)(function(){i||u||l&&Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}},e)}))()},[i,u,l,n]);var s=u?t:null;return r.a.createElement(w.b,Object.assign({path:n,component:s},c))};function S(){var e=Object(O.a)(["\n  height: 100%;\n  border: none;\n  background-image: linear-gradient(\n    45deg,\n    rgb(153, 51, 255) 0%,\n    rgb(255, 102, 102) 50%,\n    rgb(153, 51, 255) 100%\n  );\n  cursor: pointer;\n  width: 50px;\n  color: white;\n  font-size: 20px;\n"]);return S=function(){return e},e}function P(){var e=Object(O.a)(["\n  flex-grow: 1;\n  padding: 10px 15px;\n  font-size: 20px;\n  height: 100%;\n  outline: none;\n"]);return P=function(){return e},e}function C(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  height: 50px;\n  margin-bottom: 20px;\n"]);return C=function(){return e},e}var W=E.b.div(C()),R=E.b.input(P()),T=E.b.button(S()),A=function(e){var t=e.search,n=void 0===t?"":t,c=e.onSearch,o=e.onSubmit,i=Object(a.useRef)(null),u=Object(a.useCallback)(function(e){var t=e.target.value;c(t)},[c]),l=Object(a.useCallback)(function(e){"Enter"===e.key&&o()},[o]);return Object(a.useEffect)(function(){i.current&&i.current.focus()},[]),r.a.createElement(W,null,r.a.createElement(R,{placeholder:"Search...",value:n,onChange:u,onKeyDown:l,ref:i}),r.a.createElement(T,{onClick:o},"Go"))},D=n(82),I=n.n(D),L=n(83);function F(){var e=Object(O.a)(["\n  background-color: #222;\n"]);return F=function(){return e},e}var _=E.b.div(F()),J=function(e){var t=e.src,n=e.alt,a=e.width,c=e.height;return r.a.createElement(_,{style:{width:"".concat(a,"px"),height:"".concat(c,"px")}},r.a.createElement("img",{src:t,alt:n}))};function M(){var e=Object(O.a)(["\n  padding: 20px;\n"]);return M=function(){return e},e}function q(){var e=Object(O.a)(["\n  margin-bottom: 5px;\n"]);return q=function(){return e},e}var G=Object(E.b)(i.b)(q()),N=E.b.div(M()),U={fitWidth:!0,columnWidth:200,gutter:5,transitionDuration:0,resize:!0},z=function(e){var t=e.gifs,n=e.hasMore,c=e.isLoading,o=e.loadMore,i=function(e,t){var n=Object(a.useState)(e),r=Object(b.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)(function(){var n=setTimeout(function(){o(e)},t);return function(){clearTimeout(n)}},[e,t]),c}(Object(L.useScrollYPosition)(),100);return Object(a.useEffect)(function(){var e=window.innerHeight+i>=document.documentElement.offsetHeight-50;!c&&n&&e&&o()},[o,i,c,n]),c||t&&0!==t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"grid",elementType:"div",options:U,disableImagesLoaded:!1,updateOnEachImageLoad:!1},t.map(function(e,t){return r.a.createElement(G,{key:t,to:"/gifs/".concat(e.id)},r.a.createElement(J,{src:e.images.fixed_width.url,width:e.images.fixed_width.width,height:e.images.fixed_width.height,alt:e.title}))})),r.a.createElement(N,null,c||n?"Loading...":null,c||n?null:"End of results")):r.a.createElement("div",null,"No Results")},Y=n(84);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(Y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q="https://api.giphy.com/v1/gifs/search",V="https://api.giphy.com/v1/gifs/trending",X="https://api.giphy.com/v1/gifs",K="qPvDawqTTYJkQOGJbJGx8YiESgDsJ0Dg",$=50;function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.entries(H({api_key:K,limit:1,offset:0},t?{q:t}:{})).map(function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)}).join("&"),a="".concat(Q,"?").concat(n),e.next=4,fetch(a);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(p.a)(f.a.mark(function e(t,n){var a,r,c,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?Q:V,r=Object.entries(H({api_key:K,limit:$,offset:n},t?{q:t}:{})).map(function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)}).join("&"),c="".concat(a,"?").concat(r),e.next=5,fetch(c);case 5:return o=e.sent,e.abrupt("return",o.json());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(p.a)(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X,"/").concat(t,"?api_key=").concat(K));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ce(){var e=Object(O.a)([""]);return ce=function(){return e},e}var oe=E.b.h1(ce()),ie=function(){var e=Object(w.h)().query,t=void 0===e?"":e,n=Object(w.g)(),c=Object(a.useState)([]),o=Object(b.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)(0),s=Object(b.a)(l,2),m=s[0],d=s[1],h=Object(a.useState)(0),g=Object(b.a)(h,2),v=g[0],j=g[1],O=Object(a.useState)(t),E=Object(b.a)(O,2),x=E[0],y=E[1],k=Object(a.useState)(t),S=Object(b.a)(k,2),P=S[0],C=S[1],W=Object(a.useState)(!1),R=Object(b.a)(W,2),T=R[0],D=R[1],I=Object(a.useCallback)(Object(p.a)(f.a.mark(function e(){var t,n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,te(x,m);case 3:t=e.sent,n=t.data,a=t.pagination,(r=t.meta)&&200===r.status&&n&&a&&a.count&&(u(i.concat(n)),d(a.offset+a.count),j(a.total_count)),D(!1);case 9:case"end":return e.stop()}},e)})),[x,m,i]),L=Object(a.useCallback)(function(){n.push("/search/".concat(x))},[x,n]);return Object(a.useEffect)(function(){var e=setTimeout(function(){C(x)},500);return function(){clearTimeout(e)}},[x]),Object(a.useEffect)(function(){return n.listen(function(e){var t=(e.pathname.match(/\/search\/(.*)/)||[])[1];y(t),C(t)})},[n]),Object(a.useEffect)(function(){Object(p.a)(f.a.mark(function e(){var t,n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.next=3,te(P,0);case 3:t=e.sent,n=t.data,a=t.pagination,(r=t.meta)&&200===r.status&&n&&a&&a.count&&(u(n),d(a.offset+a.count),j(a.total_count)),D(!1);case 9:case"end":return e.stop()}},e)}))()},[P]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,"Search GIFs"),r.a.createElement(A,{search:x,onSearch:y,onSubmit:L}),r.a.createElement(z,{gifs:i,loadMore:I,hasMore:m<v,isLoading:T}))};function ue(){var e=Object(O.a)(["\n  font-weight: bold;\n"]);return ue=function(){return e},e}var le=E.b.h1(ue()),se=function(){var e=Object(w.h)().gifId,t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(null),u=Object(b.a)(i,2),l=u[0],s=u[1],m=Object(a.useCallback)(Object(p.a)(f.a.mark(function t(){var n,a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return o(!0),t.next=4,ae(e);case 4:n=t.sent,a=n.data,(r=n.meta)&&200===r.status&&a&&s(a),o(!1);case 9:case"end":return t.stop()}},t)})),[e]);return Object(a.useEffect)(function(){m()},[m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null,c?"":l&&l.title),l?r.a.createElement(J,{src:l.images.original.url,width:l.images.original.width,height:l.images.original.height,alt:l.title}):"Loading...")};function fe(){var e=Object(O.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 30px;\n  margin: 0 px;\n"]);return fe=function(){return e},e}function pe(){var e=Object(O.a)(["\n  margin: 0 10px;\n"]);return pe=function(){return e},e}function be(){var e=Object(O.a)(["\n  height: 100%;\n  background: none;\n  color: white;\n  font-size: 1rem;\n  border: none;\n  cursor: pointer;\n"]);return be=function(){return e},e}function me(){var e=Object(O.a)(["\n  color: white;\n  margin: 0 10px;\n"]);return me=function(){return e},e}function de(){var e=Object(O.a)(["\n  display: flex;\n  align-items: center;\n"]);return de=function(){return e},e}function he(){var e=Object(O.a)(["\n  width: 100%;\n  height: 50px;\n  background: #222;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 10px;\n"]);return he=function(){return e},e}var ge=E.b.header(he()),ve=E.b.div(de()),je=Object(E.b)(i.b)(me()),Oe=E.b.button(be()),we=E.b.span(pe()),Ee=E.b.img(fe()),xe=function(){var e=v(),t=e.isAuthenticated,n=e.loginWithPopup,a=void 0===n?function(){}:n,c=e.logout,o=void 0===c?function(){}:c,i=e.user,u=void 0===i?{name:"",picture:""}:i;return r.a.createElement(ge,null,r.a.createElement(ve,null,r.a.createElement(je,{to:"/"},"Search Gifs"),r.a.createElement(je,{to:"/profile"},"Profile")),r.a.createElement(ve,null,t?null:r.a.createElement(Oe,{onClick:function(){return a()}},"Login"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null,u&&u.name),u&&u.picture?r.a.createElement(Ee,{src:u.picture,alt:"Profile"}):null,r.a.createElement(Oe,{onClick:function(){return o()}},"Logout")):null))};function ye(){var e=Object(O.a)([""]);return ye=function(){return e},e}function ke(){var e=Object(O.a)(["\n  margin: 10px;\n"]);return ke=function(){return e},e}function Se(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Se=function(){return e},e}var Pe=E.b.div(Se()),Ce=E.b.div(ke()),We=E.b.h1(ye()),Re=function(){var e=v().user,t=void 0===e?{name:"",email:"",picture:""}:e;return r.a.createElement(Pe,null,r.a.createElement(We,null,"Profile"),r.a.createElement(Ce,null,t&&t.name),r.a.createElement(Ce,null,t&&t.email),r.a.createElement(Ce,null,t&&r.a.createElement("img",{src:t.picture,alt:"Profile"})))};function Te(){var e=Object(O.a)(["\n  position: absolute;\n"]);return Te=function(){return e},e}var Ae=E.b.div(Te()),De=function(e){var t=e.left,n=e.top,a=e.show,c=e.children;return console.log(t,n),a?r.a.createElement(Ae,null,c):null},Ie=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(b.a)(o,2),u=i[0],l=i[1],s=Object(a.useState)(0),m=Object(b.a)(s,2),d=m[0],h=m[1],g=Object(a.useState)(0),v=Object(b.a)(g,2),j=v[0],O=v[1],w=Object(a.useState)(null),E=Object(b.a)(w,2),x=E[0],y=E[1],k=Object(a.useCallback)(function(){var e=window.getSelection();l(e?e.getRangeAt(0):null),c(e?e.toString():"")},[]);return Object(a.useEffect)(function(){if(Object(p.a)(f.a.mark(function e(){var t,a,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(n);case 2:t=e.sent,a=t.meta,r=t.data,c=t.pagination,200===a.status&&1===c.count&&r&&y(r[0]);case 7:case"end":return e.stop()}},e)}))(),u){var e=document.createElement("span");u.insertNode(e);var t=e.getBoundingClientRect(),a=t.x,r=t.y;h(a),O(r)}},[n,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{onMouseUp:k},"In Wikipedia and other sites running on MediaWiki, Special:Random can be used to access a random article in the main namespace; this feature is useful as a tool to generate a random article. Depending on your browser, it's also possible to load a random page using a keyboard shortcut (in Firefox, Edge, and Chrome Alt-Shift+X). To create a link to a random page in a different namespace, use ... For example, Special:Random/Talk will take you to a random article's talk page."),r.a.createElement(De,{show:!!x,left:d,top:j},x?r.a.createElement(J,{src:x.images.original.url,width:x.images.original.width,height:x.images.original.height,alt:x.title}):null))};function Le(){var e=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 815px;\n  height: 100%;\n  margin: auto;\n"]);return Le=function(){return e},e}var Fe=E.b.main(Le()),_e=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(xe,null),r.a.createElement(Fe,null,r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/search/:query?",component:ie}),r.a.createElement(w.b,{path:"/gifs/:gifId",component:se}),r.a.createElement(w.b,{path:"/selection",component:Ie}),r.a.createElement(k,{path:"/profile",component:Re}),r.a.createElement(w.b,{path:"*"},r.a.createElement(w.a,{to:"/search"})))))},Je=n(50);o.a.render(r.a.createElement(i.a,{basename:"giphy-app"},r.a.createElement(j,{domain:Je.domain,client_id:Je.clientId},r.a.createElement(_e,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/giphy-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/giphy-app","/service-worker.js");u?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):l(t,e)})}}()},50:function(e){e.exports=JSON.parse('{"domain":"jova.auth0.com","clientId":"jVT7lIHYt3d1XRcf6Gl1iDtVIrtQM3R6"}')},87:function(e,t,n){e.exports=n(214)}},[[87,1,2]]]);
//# sourceMappingURL=main.efab3d1d.chunk.js.map